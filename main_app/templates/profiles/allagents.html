{% extends 'base.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/lists/lists-index.css' %}" />
{% endblock %}

{% block content %}
<section class="page-header">
  <h1>All Agents</h1>
</section>

<section class="card-container">
  {% for agent in agents %}
  <div class="card">
    <div class="card-img-container">
      {% if agent.photo %}
        <img src="{{ agent.photo.url }}" alt="{{ agent.first_name }}" class="agent-photo" />
      {% else %}
        <div class="preview-placeholder">No photo yet</div>
      {% endif %}
    </div>
  
    <div class="card-content">
      <h2 class="card-title">
        <a href="{% url 'agent-profile' agent.id %}">
          {{ agent.first_name }} {{ agent.last_name }}
        </a>
      </h2>
      <p>Email: {{ agent.email }}</p>
      {% if agent.agency %}
        <p>Agency: {{ agent.agency }}</p>
      {% endif %}
      {% if agent.phone %}
        <p>Phone: {{ agent.phone }}</p>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</section>
{% endblock %}
